<html>
  <head>
  <title>Webview Integration</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <style>
	body {
		background-color: #E6E6FA;
	}
	.btn-image:before {
		content: "";
		width: 25px;
		height: 25px;
		display: inline-block;
		margin-right: 5px;
		vertical-align: middle;
		background-color: transparent;
		background-position : center center;
		background-repeat:no-repeat;
	}
	.btn-background:before{
		background-image : url(https://storage.googleapis.com/settle-core-prod-kh1suzlc_ads/settle-logo.png);
		background-size: 25px 25px;
	}
  </style>
  </head>
  <body class="bg-secondary bg-gradient">
    <div>
        <br/>
        <br/>
    </div>
    <div class="container d-flex flex-column align-items-left justify-content-center" style="height: 50%">
        <!-- <div >
            <form onsubmit='executeLink(event)'>
                <div class="form-group">
                  <label for="shortlinkInput" class="text-light">Payment Shortlink (via webview bridge)</label>
                  <input class="form-control" id="shortlinkInput" aria-describedby="shortlinkHelp" placeholder="Enter shortlink" value="http://settle.eu/s/cjIxC/payment/" required>
                  <small id="shortlinkHelp" class="form-text text-muted">Shortlink to be used to trigger a payment request.</small>
                </div>
               <button type="submit" class="btn btn-dark btn-image btn-background">Pay with Settle</button>
              </form>
              <br/>
        </div>
        <div class="divider py-1 bg-dark"></div>
		<div >
            <br/>
            <br/>
            <form onsubmit='clickLink(event)'>
                <div class="form-group">
                  <label for="dynamicLinkInput" class="text-light">Payment Shortlink (via global dynamic link)</label>
                  <input class="form-control" id="dynamicLinkInput" aria-describedby="dynamicLinkHelp" placeholder="Enter dynamic link" value="https://settleqa.page.link/?apn=io.auka.aukasales.qa&ibi=io.auka.aukasales.qa&isi=1402708733&ius=eu.settle.app.firebaselink&link=https%3A%2F%2Fsettle-qa%3A%2F%2Fqr%2Fhttp%3A%2F%2Fsettle.eu%2Fs%2FcjIxC%2Fpayment%2F" required>
                  <small id="dynamicLinkHelp" class="form-text text-muted">Dynamic link to trigger Settle</small>
                </div>
               <button type="submit" class="btn btn-dark btn-image btn-background">Pay with Settle</button>
              </form>
        </div> 
        
    -->
    <div >
        <br/>
        <br/>
        <form onsubmit='clickLink(event)'>
            <div class="form-group">
              <label for="dynamicLinkInput" class="text-light">Payment Shortlink (via global dynamic link)</label>
              <input class="form-control" id="dynamicLinkInput" 
              aria-describedby="dynamicLinkHelp" 
              placeholder="Enter short link" 
              value="https://settledemo.page.link/?apn=eu.settle.app.sandbox&ibi=eu.settle.app.sandbox&isi=1402708733&ius=eu.settle.app.firebaselink&link=https%3A%2F%2Fsettle-demo%3A%2F%2Fqr%2Fhttp%3A%2F%2Fsettle.eu%2Fs%2F2PlEd%2F%3Fenv%3Dsandbox%0A" required>
              <small id="dynamicLinkHelp" class="form-text text-muted">Dynamic link to trigger Settle</small>
            </div>
           <button type="submit" class="btn btn-dark btn-image btn-background">Pay with Settle</button>
          </form>
    </div>
    </div>
    <script>
	 function executeLink(event) {
		event.preventDefault()
		var link = document.getElementById("shortlinkInput").value;
		var message = {
			type: 'shortlink',
			value: link
		}
		window.ReactNativeWebView.postMessage(JSON.stringify(message));
     }
     function clickLink(event) {
        var link = document.getElementById("dynamicLinkInput").value;
       
		window.open(link)
	 }
    </script>
  </body>
  </html>
